(function(n){var D=window.AmazonUIPageJS||window.P,w=D._namespace||D.attributeErrors,e=w?w("AmazonUICarousel","AmazonUI"):D;e.guardFatal?e.guardFatal(n)(e,window):e.execute(function(){n(e,window)})})(function(n,D,w){n.declare("a-carousel-constants",{ANIMATING:"animating",ANIMATION_SPEED:"animation_speed",AUTO_ADJUST_HEIGHT:"auto_adjust_height",CIRCULAR:"circular",CURRENT_PIXEL:"px",CURRENTLY_WRAPPING:"currentlyWrapping",DELAY_TIME:"delay_time",ELEMENT_CSS_CLASS:"elementCssClass",FETCHED_ITEMS:"fetchedItems",
FIRST_VISIBLE_ITEM:"firstVisibleItem",HIDE_OFF_SCREEN:"hide_off_screen",INIT_EVENTS:"a:pageUpdate beforeReady",LOADING:"loading",MIN_GUTTER:"minimum_gutter_width",NAME:"name",NO_TRANSITION:"no_transition",PAGE_NUMBER:"pageNumber",PAGE_SIZE:"pageSize",PEEK_GRADIENT:"peek_gradient",PEEK_PERCENTAGE:"peek_percentage",PEEK_WIDTH:"peek_width",SET_SIZE:"set_size",SHOW_PARTIAL_NEXT:"show_partial_next",SPRINGINESS:"springiness",STATIC_LOADER_CSS_CLASS:"staticLoaderCssClass",TOTAL_PAGES:"totalPages",TOUCH_EASING:"touch_easing",
TRANSITION_STRATEGY:"transitionStrategy",DISPLAY_STRATEGY:"displayStrategy",WRAP_EASING:"wrap_easing",TRANSITION_SLIDE_CIRCULAR_FIRST_CARD_IDX:"transitionSlideCircularFirstCardIndex"});"use strict";n.when("jQuery").register("a-carousel-utils",function(e){function k(f){return"string"===typeof f}function g(f){return f&&f.nodeType!==w}function c(f){return""===f?"\x3cdiv\x3e\x3c/div\x3e":f?k(f)||g(f)?f:c(f.content):null}function l(f){f&&(k(f)||g(f)?f=!0:f.content=l(f.content));return f}return{addElementToDom:function(f,
c){if(c){if(k(c))f.html(c);else if(g(c))if(e(c).hasClass("a-carousel-card-fragment")){var d=e(c).clone();f.empty().append(d.contents())}else f.empty().append(c);!0!==c&&f.removeClass("a-carousel-card-empty")}},clearElementFromItem:l,getElementFromItem:c,isElement:g,isString:k}});"use strict";n.register("a-carousel-circular-utils",function(){function e(e){var c=0<e;return function(e,f,h){var d=f.length;h=(h||1)%d;e=e.get(0);for(var b,a=0;a<h;a++)c?(b=f.get(a),e.appendChild(b)):(b=f.get(d-1-a),e.insertBefore(b,
e.children[0]))}}function k(e){var c=0<e;return function(e,f){f=f?f%e.length:1;c?e=e.concat(e.splice(0,f)):e.unshift.apply(e,e.splice(e.length-f,f));return e}}return{rotateCW:e(1),rotateCCW:e(-1),rotateArrayCW:k(1),rotateArrayCCW:k(-1),firstCardIndexAfterRotate:function(e,c,l){e=(c+e)%l;0===e?e=l:0>e&&(e=l+e);return e},relativeIndexFromIndex:function(e,c,l){var f=1;if(0<e&&e<=l)return e>c?f=e-c+1:e<c&&(f=l-c+e+1),f;n.error("idx should be between 1 and "+l,"a-carousel-circular-utils","relativeIndexFromIndex")}}});
"use strict";n.when("A","jQuery").register("a-carousel-measure",function(e,k){return function(g){function c(c,h,d){var b,a,q;h.jquery||(h=k(h));for(e.each(d,function(m){if("top"===m||"left"===m)return a=h.offset(),!1});void 0!==(b=d.pop());){var f=c[b];"left"===b||"top"===b?c[b]=a[b]:-1<b.indexOf("outer")?c[b]=h[b](!0):c[b]=h["outer"+b.charAt(0).toUpperCase()+b.substr(1)]();c[b]!==f&&(void 0===q&&(q={}),q[b]=f)}return q}var l={carousel:{height:0,width:0,outerHeight:0,outerWidth:0},viewport:{height:0,
width:0,outerHeight:0,outerWidth:0},items:[],getFirstCardWidth:function(){return void 0===this.items[0]||!e.isFiniteNumber(this.items[0].width)||0>=this.items[0].width?160:this.items[0].width}};g.measure=function(f){var h=this.dom.$carousel,d=this.dom.$viewport,b={};f&&(f=f.split(" "));if(!f||-1<e.indexOfArray(f,"carousel"))b.carousel=c(l.carousel,h,"top left height width outerHeight outerWidth".split(" "));if(!f||-1<e.indexOfArray(f,"viewport"))b.viewport=c(l.viewport,d,["height","width","outerHeight",
"outerWidth"]);if(!f||-1<e.indexOfArray(f,"items"))l.items=[],b.items={},h.children("li").each(function(a,d){l.items[a]={};d=c(l.items[a],d,"top left height width outerHeight outerWidth".split(" "));void 0!==d&&(b.items[a]=d)});return b};g.getItemOffset=function(e){var c=l.items;e--;if(c&&c.length){if(e<c.length){for(var d=0,b=c[0].outerWidth,a=0;a<e;a++)d+=c[a]?c[a].outerWidth:b;0<e&&this.getAttr("first_item_flush_left")&&(d+=g.getAttr("currentGutter"));return d}}else return 0};g.getDimensions=function(){return e.copy(l)};
g.updateDimensionsCache=function(c){e.extend(l,c)};g.getViewportWidth=function(){try{return l.viewport.width}catch(f){}}}});"use strict";n.when("A","jQuery").register("a-carousel-attributes",function(e,k){return function(g,c){var l={},f={},h={};e.extend(l,c);g.onChange=function(d,b){d=d.split(" ");for(var a=d.length,c;a--;)c=d[a],f[c]||(f[c]=[]),k.isFunction(b)&&-1===e.indexOfArray(f[c],b)&&f[c].push(b);return this};g.unbind=function(d,b){f[d]&&b&&(b=e.indexOfArray(f[d],b),-1<b&&f[d].splice(b,1));
return this};g.once=function(d,b){var a=function(){b.apply(null,arguments);g.unbind(d,a)};return g.onChange(d,a)};g.setAttr=function(d,b,a){var c=l[d];l[d]=b;if(!(a||h[d]||e.equals(b,c))){h[d]=!0;b=e.copy(b);c=e.copy(c);if(f[d]){a=e.copy(f[d]);for(var r=0,m=a.length;r<m;r++)a[r](b,c,g,d)}b={newValue:b,oldValue:c,carousel:g};e.trigger("a:carousel:change:"+d,b);l.name&&e.trigger("a:carousel:"+l.name+":change:"+d,b);h[d]=!1}return this};g.getAttr=function(d){return e.copy(l[d])}}});"use strict";n.when("A",
"jQuery","a-carousel-measure","a-carousel-attributes","a-carousel-strategies","a-carousel-constants","a-analytics","prv:a-capabilities").register("a-carousel-base",function(e,k,g,c,l,f,h,d){function b(a){var b=a.getAttr("set_size")<=a.getAttr("pageSize"),m=a.getAttr(f.NO_TRANSITION);1===a.getAttr("totalPages")&&1<a.getAttr("pageNumber")&&a.gotoPage(1,{startover:!0,animationDuration:0});a.dom.$container.find(".a-carousel-left, .a-carousel-right").css("visibility",b||m?"hidden":"visible")}function a(a,
b){return isNaN(a)?(n.log("`set_size` should be an integer: "+a,"WARN","aui:carousel:base"),b):parseInt(a,10)}function q(a){a.onChange("pageSize",function(b,m){var d=a.getAttr("firstVisibleItem"),c=Math.ceil(d/b);1===c&&1<d?c=2:1>c&&(c=1);a.setAttr("pageNumber",c);a.setAttr("totalPages",Math.ceil(a.getAttr("set_size")/b));d=a.getAttr("ajax");b>m&&(d&&d.prefetch_next_page?a.strategies.ajax.wantNextPage(a):a.strategies.ajax.wantCurrentPage(a))});a.onChange("set_size",function(b,m){var d=a.getAttr("pageSize"),
c=a.getAttr("fetchedItems");a.setAttr("totalPages",Math.ceil(b/d));b<m?(c.splice(b,Number.MAX_VALUE),a.setAttr("fetchedItems",c)):a.strategies.ajax.wantCurrentPage&&a.strategies.ajax.wantCurrentPage(a)});a.onChange("firstVisibleItem",function(b){a.dom.$container.find("input.a-carousel-firstvisibleitem").val(b)});a.onChange("pageNumber",function(b){0<b&&b<=a.getAttr("totalPages")&&a.setAttr("currentlyWrapping",!1)})}function r(b,d,q){if(0!==arguments.length){b.jquery||(b=k(b));this.dom={$container:b,
$viewport:b.hasClass("a-carousel-viewport")?b:b.find(".a-carousel-viewport"),$carousel:b.find(".a-carousel")};!b.length||this.dom.$viewport.length&&this.dom.$carousel.length||h.logError("[AUI] CarouselContainer does not have CarouselContent.","ERROR",JSON.stringify({xpath:e.xpath(b.get(0)),cssSelector:e.cssSelector(b.get(0)),custody:e.attributionChain(b.get(0))}));var m={totalPages:1E3,pageNumber:1,pageSize:0,firstVisibleItem:1,initThreshold:100,maintain_state:!0,px:0,auto_adjust_height:!0,ajax:{}};
e.extend(m,q);m.maintain_state=!!m.maintain_state;m.id_list?m.set_size||(m.set_size=m.id_list.length):m.id_list=[];var z=this.dom.$carousel.children("li");if(m.set_size)m.set_size=a(m.set_size,z.length);else{var f=parseInt(z.first().attr("aria-setsize"),10);e.isFiniteNumber(f)&&0<f?m.set_size=f:m.set_size=z.length}var r=[];this.dom.$carousel.children("li").each(function(a,b){r.push(k(b).hasClass("a-carousel-card-empty")?"":e.trim(b.innerHTML))});m.fetchedItems=r;g(this);c(this,m);this.strategies=
d;return this}}e.each(l,function(a,b){r.prototype["set"+b.charAt(0).toUpperCase()+b.slice(1)+"Strategy"]=function(a){this.strategies[name]=a;"function"===typeof a.init&&a.init(this)}});l=r.prototype;l.gotoNextPage=function(a){this.getAttr("transitionPaused")||(this.strategies.transition.gotoNextPage(this,a),a&&a.accessibleSafe&&this.strategies.accessibility.nextPage(this,a.animationDuration,a.animationSpeed))};l.gotoPrevPage=function(a){this.getAttr("transitionPaused")||(this.strategies.transition.gotoPrevPage(this,
a),a&&a.accessibleSafe&&this.strategies.accessibility.prevPage(this,a.animationDuration,a.animationSpeed))};l.gotoPage=function(a,b){this.getAttr("transitionPaused")||(this.strategies.transition.gotoPage(this,a,b),b&&b.accessibleSafe&&this.strategies.accessibility.gotoPage(this,b.animationDuration,b.animationSpeed))};l.gotoIndex=function(a,b){(!this.getAttr("transitionPaused")||b&&b.ignorePause)&&this.strategies.transition.gotoIndex(this,a,b)};l.gotoPixel=function(a,b){this.getAttr("transitionPaused")||
this.strategies.transition.gotoPixel(this,a,b)};l.resize=function(){if(this.dom.$container.is(":visible")){var a=this.measure("carousel viewport");this.strategies.display.resize(this,a)}};l.pause=function(){this.setAttr("transitionPaused",!0)};l.resume=function(){this.setAttr("transitionPaused",!1)};l.triggerEvent=function(a,b){b=b||{};b.carousel=this;e.trigger("a:carousel:"+a,b);var m=this.getAttr("name");m&&e.trigger("a:carousel:"+m+":"+a,b)};l.getStaticLoader=function(){return this.getAttr(f.STATIC_LOADER_CSS_CLASS)?
'\x3cdiv class\x3d"'+this.getAttr(f.STATIC_LOADER_CSS_CLASS)+'"\x3e\x3c/div\x3e':""};l.getEmptyCard=function(a,b){var m="a-carousel-card a-carousel-card-empty";this.getAttr(f.ELEMENT_CSS_CLASS)&&(m=m+" "+this.getAttr(f.ELEMENT_CSS_CLASS));return['\x3cli class\x3d"',m,'" role\x3d"listitem" aria-setsize\x3d"',b,'" aria-posinset\x3d"',a,'"\x3e',this.getStaticLoader(),"\x3c/li\x3e"].join("")};l.initTouchHandling=function(){var a=this,b=a.dom.$viewport;if(b.length&&((e.capabilities.touch||e.capabilities.pointerPrefix)&&
n.when("a-touch").execute(function(m){b.addClass("a-gesture a-gesture-horizontal").bind("pan-horizontal swipe-horizontal",function(){return!1});e.on("a:swipe-horizontal:"+b[0].id,function(b){if(!a.getAttr("transitionPaused")&&a.strategies.transition.onSwipe)a.strategies.transition.onSwipe(a,b)});if(!a.getAttr("disable_panning"))e.on("a:pan-horizontal:"+b[0].id,function(b){if(!a.getAttr("transitionPaused")&&a.strategies.transition.onPan)a.strategies.transition.onPan(a,b)})}),d.isIE10||d.isIE11Plus)){var c=
function(a){a.stopPropagation();a.preventDefault();document.body.removeEventListener("click",c,!0)};b.bind(e.action.start,function(a){b.bind("swipe-horizontal.a-ssiec pan-horizontal.a-ssiec",function(a){b.unbind(".a-ssiec");b.bind(e.action.end+".a-ssiec",function(a){b.unbind(".a-ssiec");document.body&&document.body.addEventListener("click",c,!0)})})})}};l.init=function(){var a=this,d=a.strategies,c=a.dom.$viewport[0];c&&!c.id&&(c.id="anonCarousel"+a.__id);a.dom.$carousel.contents().not(function(){return this.tagName&&
"li"===this.tagName.toLowerCase()}).remove();e.each(a.strategies,function(b){b.initAttrs&&e.each(b.initAttrs,function(b,d){var c=b;"function"===typeof b&&(c=b(a.getAttr(d)));a.setAttr(d,c)})});if(1>a.getAttr("set_size"))return d.ajax.init(a),!1;a.measure();e.each(a.strategies,function(b){b.init(a)});d=a.getAttr("pageSize");c=a.getAttr("set_size");a.setAttr("totalPages",Math.ceil(c/d));q(a);a.setAttr("isInTab",0<a.dom.$container.closest(".a-tab-content").length,!0);a.triggerEvent("init");e.each(a.strategies,
function(b){b.afterInit&&b.afterInit(a)});a.triggerEvent("afterInit");d=a.getAttr("firstVisibleItem");1===d&&a.getAttr("maintain_state")&&(d=parseInt(a.dom.$container.find("input.a-carousel-firstvisibleitem").val(),10),e.isFiniteNumber(d)&&0<d&&d<=c||(d=1));if(1<d){c=700;for(var f=Math.ceil(d/a.getAttr("pageSize")),r=2;r<f;r++)c+=700/r;a.gotoIndex(d,{animationDuration:c,easingFunction:"ease"})}b(this);a.onChange("pageSize set_size",function(){b(a)});d=a.dom.$container.find(".a-carousel-button");d.length&&
(c=d.eq(0).position().top+"px",d.css("top",c));var h=!1,g=function(b){b.preventDefault();b={startover:!0,accessibleSafe:"keydown"===b.type?!0:!1};5<a.getAttr("pageNumber")?b.animationDuration=1250:b.animationSpeed=5*a.getDimensions().viewport.width;a.gotoPage(1,b)};a.dom.$container.delegate(".a-carousel-goto-nextpage","click dblclick",function(b){h||(h=!0,b.preventDefault(),a.gotoNextPage(),e.delay(function(){h=!1},5))}).delegate(".a-carousel-goto-prevpage","click dblclick",function(b){h||(h=!0,b.preventDefault(),
a.gotoPrevPage(),e.delay(function(){h=!1},5))}).delegate(".a-carousel-goto-nextpage","keydown",function(b){if(b.which===e.constants.keycodes.ENTER||b.which===e.constants.keycodes.SPACE)b.preventDefault(),a.gotoNextPage({accessibleSafe:!0})}).delegate(".a-carousel-goto-prevpage","keydown",function(b){if(b.which===e.constants.keycodes.ENTER||b.which===e.constants.keycodes.SPACE)b.preventDefault(),a.gotoPrevPage({accessibleSafe:!0})}).delegate(".a-carousel-restart","keydown",function(a){a.which!==e.constants.keycodes.ENTER&&
a.which!==e.constants.keycodes.SPACE||g(a)}).delegate(".a-carousel-restart","click",function(a){g(a)});a.dom.$container.find(".a-carousel-page-max").html(this.getAttr("totalPages"));return!0};return r});"use strict";n.when("A","jQuery","a-carousel-base","a-carousel-constants").register("a-carousel-mobile",function(e,k,g,c){function l(d){var b=d.getAttr("loaderHeight");b||((b=d.getAttr("maxHeight"))?(b=Math.min(.9*b,90),b=Math.max(b,120)):b=90,d.setAttr("loaderHeight",b));return b}function f(d,b,a){g.call(this,
d,b,a);if(0!==arguments.length)return this.getAttr("circular")===h&&this.setAttr("circular",!1),this.getAttr("show_partial_next")===h&&this.setAttr("show_partial_next",!0),this.getAttr("hide_off_screen")===h&&this.setAttr("hide_off_screen",!1),this.getAttr("springiness")===h&&this.setAttr("springiness",.8),this.getAttr("touch_easing")===h&&this.setAttr("touch_easing","cubic-bezier(0.215, 0.610, 0.355, 1.000)"),this.init=function(){return g.prototype.init.call(this)?(this.getAttr(c.STATIC_LOADER_CSS_CLASS)||
this.dom.$carousel.children("li").children(".a-loading-static").css("height",l(this)+"px"),this.getAttr(c.NO_TRANSITION)||this.initTouchHandling(),!0):!1},this}var h;f.prototype=new g;f.prototype.constructor=f;f.prototype.getStaticLoader=function(){return this.getAttr(c.STATIC_LOADER_CSS_CLASS)?'\x3cdiv class\x3d"'+this.getAttr(c.STATIC_LOADER_CSS_CLASS)+'"\x3e\x3c/div\x3e':'\x3cdiv class\x3d"a-loading-static" style\x3d"height:'+l(this)+'px"\x3e\x3cdiv class\x3d"a-loading-static-inner"\x3e\x3c/div\x3e\x3c/div\x3e'};
return f});"use strict";n.when("A","jQuery","a-carousel-base","a-carousel-constants").register("a-carousel-desktop",function(e,k,g,c){function l(d){var b=d.getAttr("set_size")<=d.getAttr("pageSize"),a=d.getAttr(c.NO_TRANSITION);d.dom.$container.find(".a-carousel-pagination").css("visibility",b||a?"hidden":"visible")}function f(d,b,a){g.call(this,d,b,a);if(0!==arguments.length){var e=this;e.getAttr("circular")===h&&this.setAttr("circular",!0);e.getAttr("hide_off_screen")===h&&this.setAttr("hide_off_screen",
!0);e.onChange("totalPages",function(a){e.dom.$container.find(".a-carousel-page-max").html(a);a<e.getAttr("pageNumber")&&e.gotoPage(a)});e.onChange("pageNumber",function(a,b){b=e.dom.$container;var d=b.find(".a-carousel-restart-container");1<a?d.show():d.hide();b.find(".a-carousel-page-current").html(a)});e.init=function(){var a=this;return g.prototype.init.call(a)?(l(this),a.onChange("pageSize set_size",function(){l(a)}),2>a.getAttr("pageNumber")&&a.dom.$container.find(".a-carousel-restart-container").hide(),
a.getAttr(c.NO_TRANSITION)||a.initTouchHandling(),!0):!1};return e}}var h;f.prototype=new g;return f.prototype.constructor=f});"use strict";n.when("A","a-carousel-desktop","a-carousel-mobile").register("a-carousel-classes",function(e,k,g){return{desktop:k,mobile:g,"default":e.capabilities.mobile||e.capabilities.tablet?"mobile":"desktop"}});"use strict";n.when("A","jQuery","p-detect","a-carousel-constants").register("a-carousel-stretchygoodness",function(e,k,g,c){function l(a,b,d,c){a.getAttr("show_partial_next")&&
(b-=d/10);var m=a.getAttr("minimum_gutter_width");a.getAttr("set_size");a=0;for(var f=!0;0<b;)a++,b=c&&f?b-d:b-(d+m),f=!1;0>b&&a--;return e.isFiniteNumber(a)&&0<a?a:1}function f(a,b,d,c,f,h,g){"stretch"===a.getAttr("single_page_align")&&c>h&&(c=h);b-=d*c;a.getAttr("show_partial_next")?(a=b-f*(c+1),g&&(a+=f),g=a/d,b-=d*(.5<g?.5:g)):g&&(b+=f);d=Math.ceil(b/(c+1));if(!e.isFiniteNumber(d)||d<f)d=f;return d}function h(a){if(a.getAttr("auto_adjust_height"))if(a.getAttr("animating"))a.once("animating",function(){h(a)});
else{var b=a.getAttr("maxHeight"),d=a.getDimensions();b&&e.isFiniteNumber(b)||(b=1);var c=b,f=a.getAttr("pageSize"),g=f*(a.getAttr("pageNumber")-1);f=g+f-1;d=d.items;var l=d.length,k;for(a.getAttr("show_partial_next")&&f++;g<=f&&g<l;g++)(k=d[g])&&k.outerHeight>c&&(c=d[g].outerHeight||d[g].height);c>b&&(a.updateDimensionsCache({viewport:{height:c,outerHeight:c}}),a.setAttr("maxHeight",c),1===b?a.dom.$viewport.height(c):e.animate(a.dom.$viewport,{height:c},a.getAttr("height_animation_speed"),"linear"))}else a.dom.$viewport.css("height",
"")}function d(a){a.onChange("pageNumber",function(){a.getAttr("hide_off_screen")&&a.dom.$carousel.children("li").css("visibility","")});a.onChange("pageSize",function(b,d){b>d&&h(a)});a.onChange("loading",function(b){b||h(a)});a.onChange("firstVisibleItem",function(){h(a)});a.onChange("animating",function(b){if(!b&&a.getAttr("hide_off_screen")){var d=a.getAttr("firstVisibleItem")-1,c=d+a.getAttr("pageSize")-1;a.getAttr("show_partial_next")&&c++;a.dom.$carousel.children("li").each(function(a,b){a=
a>=d&&a<=c;k(b).css("visibility",a?"":"hidden")})}});a.onChange("single_page_align minimum_gutter_width",function(){b(a)});a.onChange("minimum_gutter_width",function(){b(a)})}function b(a){var b=a.getDimensions(),d=b.viewport.width;b=b.getFirstCardWidth();var c=a.getAttr("minimum_gutter_width"),h=a.getAttr("set_size"),g=a.getAttr("first_item_flush_left"),k=l(a,d,b,g),p=f(a,d,b,k,c,h,g);a.setAttr("currentGutter",p);a.setAttr("pageSize",k);var n=a.dom.$carousel,u=n.children("li");c=u.length;var v=a.getAttr("totalPages"),
A=a.getAttr("pageNumber"),B=a.getAttr("firstVisibleItem"),y=(A-1)*k+1;A>v?(B=(v-1)*k+1,a.setAttr("pageNumber",v),a.setAttr("firstVisibleItem",B)):B!==y&&(v=Math.ceil(B/k),B=(v-1)*k+1,a.setAttr("pageNumber",v),a.setAttr("firstVisibleItem",B));var E=B-1,F=E+k-1;a.getAttr("show_partial_next")&&F++;var H=a.getAttr("hide_off_screen"),I=p+"px",J=b+"px",w;u.each(function(a,b){w=!H||a>=E&&a<=F;b.style[e.capabilities.rtl?"marginRight":"marginLeft"]=g&&0===a?0:I;b.style.visibility=w?"":"hidden";b.style.width=
J});var C;a.getAttr("first_item_flush_left")?(p=u.first().outerWidth(!0),1<u.length&&(C=u.eq(1).outerWidth(!0)),v=(c-1)*C+p):(p=C=u.first().outerWidth(!0),v=c*C);k>=h?(v=d,A=a.getAttr("single_page_align"),n.toggleClass("a-text-right","right"===A),n.toggleClass("a-text-center","center"===A),"center"===A&&u.first().css("margin-left",0)):n.removeClass("a-text-right a-text-center");v=k>=h?d:v;n.css("width",v+"px");d={carousel:{width:v,outerWidth:n.outerWidth()},items:[]};for(h=0;h<c;h++)d.items.push({width:b,
outerWidth:0===h?p:C});a.updateDimensionsCache(d);a.gotoIndex(B,{animationDuration:0,ignorePause:!0});a.triggerEvent("repaint")}return{repaint:b,init:function(a){var f=a.getAttr("minimum_gutter_width");e.isFiniteNumber(f)||(f=15,a.setAttr("minimum_gutter_width",f));a.setAttr("currentGutter",f);f=a.getAttr("height_animation_speed");e.isFiniteNumber(f)||a.setAttr("height_animation_speed",200);a.setAttr("first_item_flush_left",!!a.getAttr("first_item_flush_left"));a.setAttr("show_partial_next",!!a.getAttr("show_partial_next"));
b(a);a.getAttr(c.NO_TRANSITION)||h(a);f=a.getDimensions();a.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-viewport").css("height",Math.max(f.viewport.height,f.items[0]?f.items[0].height:0)+"px");f=a.getAttr("firstVisibleItem");1<f&&(a.setAttr("firstVisibleItem",f),f=Math.ceil(f/a.getAttr("pageSize")),a.gotoPage(f));d(a)},resize:function(a,d){d.viewport&&void 0!==d.viewport.width&&b(a)}}});"use strict";n.when("A","jQuery","p-detect","a-carousel-utils").register("a-carousel-display-swap",
function(e,k,g,c){function l(d){if(d.getAttr("auto_adjust_height")){var b=d.getAttr("maxHeight");b&&e.isFiniteNumber(b)||(b=1);var a=b;d.dom.$carousel.children("li").not(".a-carousel-card-empty").each(function(b,d){b=k(d).outerHeight();a=Math.max(b,a)});a>b&&(d.setAttr("maxHeight",a),g.capabilities.transition?1===b?d.dom.$viewport.height(a):e.animate(d.dom.$viewport,{height:a},d.getAttr("height_animation_speed"),"linear"):d.dom.$viewport.height(a),d.updateDimensionsCache({viewport:{height:a,outerHeight:a}}))}else d.dom.$viewport.css("height",
"")}function f(d){d.onChange("animating",function(b){b||l(d)});d.onChange("loading",function(b){b||l(d)});d.onChange("pageSize",function(b,a){d.dom.$carousel.children("li").slice(b).remove();if(b>a){a=d.getAttr("set_size");var e=d.getDimensions().getFirstCardWidth(),f=d.getAttr("currentGutter"),m=d.getAttr("fetchedItems"),h=d.getAttr("firstVisibleItem")-1,g=d.dom.$carousel.children("li"),t=document.createDocumentFragment();if(k.isArray(m)){for(var p=g.length;p<b;p++){var n=p+h;g=k(['\x3cli class\x3d"a-carousel-card a-carousel-card-empty" role\x3d"listitem" aria-setsize\x3d"',
a,'" aria-posinset\x3d"',n+1,'" style\x3d"width:',e,"px; margin-left:",f,'px;"\x3e',d.getStaticLoader()].join(""));m[n]&&c.addElementToDom(g,c.getElementFromItem(m[n]));n>=a&&g.removeClass("a-carousel-card-empty");t.appendChild(g[0])}d.dom.$carousel.append(t)}l(d)}});d.onChange("set_size",function(b,a){var c=d.getAttr("pageNumber"),f=d.getAttr("totalPages"),m=d.dom.$carousel.children("li");c===f&&b>a&&(m.length&&d.dom.$carousel.children("li").each(function(a,b){e.trim(b.innerHTML)||(b.className+=
" a-carousel-card-empty",b.innerHTML=d.getStaticLoader())}),0===a&&h(d))});d.onChange("single_page_align minimum_gutter_width",function(){h(d)});d.onChange("minimum_gutter_width",function(){h(d)})}function h(d){var b=d.getDimensions(),a=b.viewport.width,c=b.getFirstCardWidth(),f=d.getAttr("minimum_gutter_width");b=d.getAttr("set_size");var m=d.getAttr("minimum_gutter_width");d.getAttr("set_size");m=Math.max(Math.floor(a/(c+m)),1);m=e.isFiniteNumber(m)?m:1;var h=m;"stretch"===d.getAttr("single_page_align")&&
h>b&&(h=b);h=Math.ceil((a-c*h)/(h+1));e.isFiniteNumber(h)||(h=f);var g=h;d.setAttr("currentGutter",g);d.setAttr("pageSize",m);h=d.dom.$carousel;var l=h.children("li");f=l.length;c+=g;var k=f*c,n=Math.min(m,b);d.dom.$carousel.children("li").slice(n).remove();l.css("margin-left",g+"px");m>=b?(k=a,a=d.getAttr("single_page_align"),h.toggleClass("a-text-right","right"===a),h.toggleClass("a-text-center","center"===a),"center"===a&&l.first().css("margin-left",0)):h.removeClass("a-text-right a-text-center");
for(a={carousel:{width:k,outerWidth:h.outerWidth()},items:[]};f--;)a.items.push({outerWidth:c});d.updateDimensionsCache(a);d.triggerEvent("repaint")}return{repaint:h,init:function(d){var b=d.getAttr("minimum_gutter_width");b||(b=15,d.setAttr("minimum_gutter_width",b));d.setAttr("currentGutter",b);b=d.getAttr("height_animation_speed");e.isFiniteNumber(b)||d.setAttr("height_animation_speed",200);f(d);h(d);b=d.getDimensions();d.dom.$container.find(".a-carousel-left, .a-carousel-right, .a-carousel-viewport").css("height",
Math.max(b.viewport.height,b.items[0]?b.items[0].height:0)+"px");b=d.getAttr("firstVisibleItem");1<b&&(d.setAttr("firstVisibleItem",b),b=Math.ceil(b/d.getAttr("pageSize")),d.gotoPage(b))},resize:function(d,b){b.viewport&&void 0!==b.viewport.width&&h(d)}}});"use strict";n.when("A","jQuery").register("a-carousel-display-single",function(e,k){function g(c){if(c.getAttr("auto_adjust_height"))if(c.getAttr("animating"))c.once("animating",function(){g(c)});else c.dom.$viewport.css("height","auto"),e.delay(function(){c.dom.$viewport.height(c.dom.$viewport.height())},
0);else c.dom.$viewport.css("height","")}function c(c,d){var b=c.dom.$carousel.children("li"),a=c.getAttr("firstVisibleItem")-1;c=c.getAttr("show_partial_next")?2:1;a=b.slice(a,a+c);b.not(a).css("visibility","hidden");d&&a.css("visibility","")}function l(e){e.getAttr("fixed_height")||(e.dom.$viewport.delegate("img","load",function(){g(e)}),e.onChange("loading",function(d){d||g(e)}),e.onChange("pageNumber",function(){e.getAttr("hide_off_screen")&&e.dom.$carousel.children("li").css("visibility","")}),
e.onChange("animating",function(d){!d&&e.getAttr("hide_off_screen")&&c(e)}),e.onChange("minimum_gutter_width",function(){f(e)}))}function f(e){var d=e.getDimensions(),b=d.viewport.width,a=e.getAttr("show_partial_next"),f=e.getAttr("minimum_gutter_width"),g=e.getAttr("set_size"),m=e.dom.$carousel.children("li");b-=2*f;a&&(b-=f+d.viewport.width/3);m.css({width:b+"px",margin:"0 "+f+"px"});d=b+2*f;a=d*g;e.dom.$carousel.width(a);for(a={carousel:{width:a},items:[]};g--;)a.items[g]={width:b,outerWidth:d};
e.updateDimensionsCache(a);e.getAttr("hide_off_screen")&&c(e,!0);e.gotoIndex(e.getAttr("firstVisibleItem"),{animationDuration:0,ignorePause:!0});e.triggerEvent("repaint")}return{repaint:f,init:function(c){var d=c.getAttr("minimum_gutter_width");c.setAttr("minimum_gutter_width",e.isFiniteNumber(d)?d:14);c.setAttr("show_partial_next",!!c.getAttr("show_partial_next"));c.setAttr("pageSize",1);c.setAttr("pageSize",1);d=c.getAttr("fixed_height");e.isFiniteNumber(d)?c.dom.$viewport.height(d):c.setAttr("fixed_height",
!1);c.dom.$carousel.children("li").css("visibility","visible");l(c);this.repaint(c);g(c)},resize:function(c,d){d.viewport&&void 0!==d.viewport.width&&(this.repaint(c),c.getAttr("fixed_height")||g(c))}}});"use strict";n.when("A","jQuery","a-carousel-constants").register("a-carousel-display-peekcircular",function(e,k,g){function c(c){return function(f){return e.isFiniteNumber(f)?f:c}}k={};k[g.PAGE_SIZE]=1;k[g.MIN_GUTTER]=c(14);k[g.PEEK_PERCENTAGE]=c(10);return{initAttrs:k,init:function(c){var e=this;
c.onChange(g.PEEK_PERCENTAGE,function(f,d){e.repaint(c)});c.dom.$carousel.children("li").css("visibility","visible");e.repaint(c)},repaint:function(c){var f=c.getAttr(g.MIN_GUTTER),h=c.getAttr(g.SET_SIZE),d=c.getAttr(g.PEEK_PERCENTAGE),b=c.getDimensions().viewport.width,a=c.dom.$carousel,q=a.children("li");d=d/100*b;var r=b-2*d-f,m=r+2*f;b=m*h;a.width(b);q.css({width:r+"px","margin-left":f+"px","margin-right":f+"px"});c.updateDimensionsCache({carousel:{width:b},items:e.map(e.range(h),function(){return{width:r,
outerWidth:m}})});c.setAttr(g.PEEK_WIDTH,d,!1);c.triggerEvent("repaint")},resize:function(c,e){e.viewport&&e.viewport.width!==w&&this.repaint(c)}}});"use strict";n.when("A").register("a-carousel-display-variablewidth",function(e){return{init:e.constants.NOOP,resize:e.constants.NOOP,repaint:e.constants.NOOP}});"use strict";n.when("a-carousel-stretchygoodness","a-carousel-display-swap","a-carousel-display-single","a-carousel-display-peekcircular","a-carousel-display-variablewidth").register("a-carousel-strategies-display",
function(e,k,g,c,l){return{swap:k,single:g,peekCircular:c,stretchyGoodness:e,variableWidth:l,"default":"stretchyGoodness"}});"use strict";n.when("A","jQuery","a-carousel-utils").register("a-carousel-transition-swap",function(e,k,g){function c(c,b){var a=c.getAttr("preloadedImages");a||(a=[]);for(var d=[],f=b.length-1;0<=f;f--)if(b[f]&&!a[f]){var m=g.getElementFromItem(b[f]);m&&k("img",m).each(function(){d.push(this.src)});a[f]=!0}e.preload(d);c.setAttr("preloadedImages",a)}function l(c){return"number"===
typeof c?c?0>c?-1:1:isNaN(c)?NaN:0:NaN}function f(c,b){c.getAttr("pageNumber");c.getAttr("pageSize");var a=c.getAttr("firstVisibleItem"),d=c.getAttr("delay_time"),f=c.dom.$carousel.children("li"),m=f.filter(".a-carousel-card-empty");m.length&&c.setAttr("loading",!0);m.each(function(h,q){var r=k(q);q=f.index(q)+a-1;var l=b[q];l&&e.delay(function(){g.addElementToDom(r,g.getElementFromItem(l));h===m.length-1&&c.setAttr("loading",!1)},0+d)})}function h(c,b,a){a=a||{};var d=c.getAttr("pageNumber");if(b!==
d){var f=c.getAttr("set_size"),m=c.getAttr("totalPages"),h=c.getAttr("circular"),k=c.getAttr("pageSize"),t=a.delayTime||c.getAttr("delay_time"),p=l(a.direction)||NaN;!h&&1>b?b=1:!h&&b>m?b=m:h&&1>b?b=m:h&&b>m&&(b=1);p||(p=d<b?1:-1);a.startover&&(p=t=1);var n=k*(b-1),u=1===p?0:k-1;c.setAttr("pageNumber",b);c.setAttr("firstVisibleItem",n+1);c.setAttr("animating",!0);var v=e.interval(function(){var a=n+u;if(v!==c.getAttr("responsiveTimerId"))clearInterval(v);else if(-1===p&&0>u||1===p&&u>=k)c.setAttr("responsiveTimerId",
w),c.setAttr("animating",!1);else{var b=c.dom.$carousel.children("li").eq(u),d=c.getAttr("fetchedItems")[a];d?g.addElementToDom(b,g.getElementFromItem(d)):a<f?b.html(c.getStaticLoader()).addClass("a-carousel-card-empty"):b.empty().removeClass("a-carousel-card-empty");u+=p}},t);c.setAttr("responsiveTimerId",v)}}return{init:function(d){var b=d.getAttr("delay_time");e.isFiniteNumber(b)||d.setAttr("delay_time",30);d.onChange("responsiveTimerId",function(a,b){b!==a&&clearInterval(b)});d.onChange("fetchedItems",
function(a,b){f(d,a);c(d,a)});c(d,d.getAttr("fetchedItems"))},gotoIndex:function(c,b,a){a=a||{};var d=c.getAttr("pageSize");h(c,Math.ceil(b/d),a)},gotoNextPage:function(c,b){b=b||{};var a=c.getAttr("pageNumber");b.direction=-1;h(c,++a,b)},gotoPrevPage:function(c,b){b=b||{};var a=c.getAttr("pageNumber");b.direction=1;h(c,--a,b)},gotoPage:h}});"use strict";n.when("A","jQuery","a-carousel-utils","a-carousel-constants").register("a-carousel-transition-slide",function(e,k,g,c){function l(b){var a=b.dom.$carousel.children("li").length,
d=a+1,e=b.getAttr(c.SET_SIZE),f=e-a;if(0<f){f=d+f-1;for(var h=[];d<=f;d++)h.push(b.getEmptyCard(d,e));b.dom.$carousel.append(h.join(""));b.setAttr(c.LOADING,!0);f=b.getAttr(c.FETCHED_ITEMS);h=b.dom.$carousel.children("li");var k;for(d=a;d<e;d++)if(k=f[d]){var l=g.getElementFromItem(k);a=h.eq(d);g.addElementToDom(a,l);f[d]=g.clearElementFromItem(k)}b.strategies.display.repaint&&b.strategies.display.repaint(b);b.setAttr(c.FETCHED_ITEMS,f,!0);b.setAttr(c.LOADING,!1)}}function f(b,a,d){if(b.getAttr(c.ANIMATING))b.once(c.ANIMATING,
function(){f(b,a,d)});else{var h=b.getDimensions().items,m=[];if(!d||a.length>=d.length){b.setAttr(c.LOADING,!0);for(var k=b.dom.$carousel.children("li"),l,q,p=a.length;p--;)if(q=a[p],null===q&&m.push(p),q&&!e.equals(q,d[p])&&!0!==q&&!0!==q.content){var n=g.getElementFromItem(q);l=k.eq(p);l.length&&(g.addElementToDom(l,n),h[p]={width:l.outerWidth(),outerWidth:l.outerWidth(!0),height:l.outerHeight(),outerHeight:l.outerHeight(!0)},a[p]=g.clearElementFromItem(q))}m.length&&(e.each(m,function(b){k.eq(b).remove();
a.splice(b,1)}),b.setAttr(c.SET_SIZE,b.getAttr(c.SET_SIZE)-m.length),b.triggerEvent("repaint"))}b.setAttr(c.FETCHED_ITEMS,a);b.updateDimensionsCache({items:h});b.setAttr(c.LOADING,!1)}}var h=e.capabilities.touch?2E3:3E3,d=e.capabilities.rtl?-1:1;return{wrapToFirst:function(b){var a=b.getAttr(c.PAGE_SIZE),d=b.getDimensions().getFirstCardWidth(),e=this;b.gotoPixel(a*d*-1,{animationDuration:0,callback:function(){b.setAttr(c.CURRENTLY_WRAPPING,!1);e.gotoPage(b,1)}})},wrapToLast:function(b){b.getAttr(c.PAGE_SIZE);
var a=b.getAttr(c.TOTAL_PAGES),d=this,e=b.getDimensions().carousel.width;b.gotoPixel(e,{animationDuration:0,callback:function(){b.setAttr(c.CURRENTLY_WRAPPING,!1);d.gotoPage(b,a)}})},gotoPage:function(b,a,d){d=d||{};(void 0===d.animationDuration||0<d.animationDuration)&&!d.silent&&b.setAttr(c.ANIMATING,!0);var e=b.getAttr(c.TOTAL_PAGES);0<a&&a<=e&&b.setAttr(c.PAGE_NUMBER,a);var f=b.getAttr(c.CIRCULAR);!f&&1>a?(a=1,d.animationDuration=Math.pow(b.getAttr(c.ANIMATION_SPEED)*b.getAttr(c.SPRINGINESS))):
!f&&a>e&&(a=e,d.animationDuration=Math.pow(b.getAttr(c.ANIMATION_SPEED),b.getAttr(c.SPRINGINESS)));this.gotoIndex(b,b.getAttr(c.PAGE_SIZE)*(a-1)+1,d)},gotoIndex:function(b,a,d){d=d||{};(void 0===d.animationDuration||0<d.animationDuration)&&!d.silent&&b.setAttr(c.ANIMATING,!0);var f=b.getAttr(c.CIRCULAR)&&!b.getAttr(c.CURRENTLY_WRAPPING),m=d.callback,g=this,h=!1,k=b.getViewportWidth(),l=Math.ceil(a/b.getAttr(c.PAGE_SIZE));l!==b.getAttr(c.PAGE_NUMBER)&&0<l&&l<=b.getAttr(c.TOTAL_PAGES)&&b.setAttr(c.PAGE_NUMBER,
l);b.setAttr(c.FIRST_VISIBLE_ITEM,a);if(1>a){if(f){h=-1*k;var q=function(){m&&m();g.wrapToLast(b)}}}else a>b.getAttr(c.SET_SIZE)?f&&(h=b.getAttr(c.CURRENT_PIXEL)+k,q=function(){m&&m();g.wrapToFirst(b)}):h=b.getItemOffset(a);q?(b.setAttr(c.CURRENTLY_WRAPPING,!0),d.callback=q,d.easingFunction=d.easingFunction||b.getAttr(c.WRAP_EASING),d.animationSpeed=1.3*(e.isFiniteNumber(d.animationSpeed)?d.animationSpeed:b.getAttr(c.ANIMATION_SPEED))):d.callback=m;!1!==h&&this.gotoPixel(b,h,d)},gotoPixel:function(b,
a,d){var f=b.getAttr(c.CURRENT_PIXEL);if(a!==f){d=d||{};var m=d.easingFunction||"ease-out",g=d.callback;b.getViewportWidth();if(void 0!==d.animationDuration)var h=d.animationDuration;else h=e.isFiniteNumber(d.animationSpeed)?d.animationSpeed:b.getAttr(c.ANIMATION_SPEED),f=Math.abs(a-f),h=0===h?0:Math.floor(f/h*1E3);0<h&&!d.silent&&b.setAttr(c.ANIMATING,!0);if(e.isFiniteNumber(a)){f=0<h?function(){g&&g();b.getAttr(c.CURRENTLY_WRAPPING)||b.setAttr(c.ANIMATING,e.isAnimated(b.dom.$carousel),d.silent)}:
g;var l=e.capabilities.rtl?1:-1;b.setAttr(c.CURRENT_PIXEL,a);e.animate(b.dom.$carousel,{left:a*l},h,m,f)}else n.error("Target pixel is not a finite number","a-carousel-transition-slide","gotoPixel")}},gotoNextPage:function(b,a){var d=b.getAttr(c.PAGE_NUMBER);this.gotoPage(b,++d,a)},gotoPrevPage:function(b,a){var d=b.getAttr(c.PAGE_NUMBER);this.gotoPage(b,--d,a)},onSwipe:function(b,a){if(!b.getAttr(c.CURRENTLY_WRAPPING)){var f=b.getAttr(c.FIRST_VISIBLE_ITEM),g=b.getAttr(c.PAGE_SIZE),m=b.getAttr(c.PAGE_NUMBER),
h=0>d*a.velocityX,l=f;h&&m<b.getAttr(c.TOTAL_PAGES)?l=f+g:!h&&1<m&&(l=f-g);g=b.getAttr(c.CURRENT_PIXEL);m=b.getItemOffset(l);a=Math.abs(1E3*(h?g-m:g+m)/a.velocityX);a=Math.max(a,300);a=Math.min(a,1.2*e.viewport().width);a={animationDuration:a,easingFunction:b.getAttr(c.TOUCH_EASING)};l!==f||b.getAttr("circular")?h?b.gotoNextPage(a):b.gotoPrevPage(a):(a.animationSpeed=.95*e.viewport().width,delete a.animationDuration,b.gotoIndex(l,a))}},onPan:function(b,a){if(!b.getAttr(c.CURRENTLY_WRAPPING)){b.setAttr(c.ANIMATING,
!0);var f=b.getItemOffset(b.getAttr(c.FIRST_VISIBLE_ITEM)),g=f-d*a.touchDeltaX,m=b.getAttr(c.CIRCULAR),h=b.getAttr(c.PAGE_NUMBER),l=b.getAttr(c.TOTAL_PAGES);a.ended?(f={easingFunction:b.getAttr(c.TOUCH_EASING),animationSpeed:.95*e.viewport().width,silent:!0},a=d*a.touchDeltaX,g=Math.abs(a)<.4*b.getViewportWidth(),!m&&(0>a&&l===h||0<a&&1===h)||g?b.gotoPage(h,f):0>a?b.gotoNextPage(f):b.gotoPrevPage(f)):(!m&&(m=b.getAttr(c.SPRINGINESS),0>g&&0<a.touchDeltaX||h===l&&0>a.touchDeltaX)&&(h=Math.pow(Math.abs(a.touchDeltaX),
m),g=0>=g?-1*h:f+h),b.gotoPixel(g,{easingFunction:b.getAttr(c.TOUCH_EASING),animationDuration:0,silent:!0}))}},init:function(b){var a=b.getAttr(c.ANIMATION_SPEED);e.isFiniteNumber(a)||b.setAttr(c.ANIMATION_SPEED,h);void 0===b.getAttr(c.WRAP_EASING)&&b.setAttr(c.WRAP_EASING,"linear");l(b);b.onChange(c.FETCHED_ITEMS,function(a,c){f(b,a,c)});b.onChange(c.SET_SIZE,function(a,c){a>c&&l(b)})}}});"use strict";n.when("A","a-carousel-utils","a-carousel-circular-utils","a-carousel-constants").register("a-carousel-transition-slidecircular",
function(e,k,g,c){function l(a){var b=a.dom.$carousel.children("li").length,f=a.getAttr(c.SET_SIZE),g=f-b,h=d(a,b);0<g&&(b+=1,g=e.map(e.range(b,b+g),function(b){return a.getEmptyCard(b,f)}),h.after(g.join("")),a.measure("items"))}function f(d,e){var f=d.getAttr(c.SET_SIZE);if(2<d.getAttr(c.SET_SIZE)){var g=a(d,d.getAttr(c.FIRST_VISIBLE_ITEM)),m=Math.round(d.getAttr(c.SET_SIZE)/2);f=h(m,g,f);0!==f.quantity&&(z(d,f.direction,f.quantity),g=f.direction===t.CLOCKWISE?g-f.quantity:g+f.quantity,e.gotoPixel(d,
b(d,g),{animationDuration:0}))}}function h(a,b,c){var d={};a===b?a=b=0:a>b?(b=a-b,a=c-b):(a=b-a,b=c-a);d.direction=a<=b?t.CLOCKWISE:t.COUNTER_CLOCKWISE;d.quantity=Math.min(a,b);return d}function d(b,c){return b.dom.$carousel.children("li").eq(a(b,c)-1)}function b(a,b){var d=Math.floor(a.getAttr(c.PEEK_WIDTH)||0);return a.getItemOffset(b)-d}function a(a,b){b=b||1;var d=a.getAttr(c.TRANSITION_SLIDE_CIRCULAR_FIRST_CARD_IDX);a=a.getAttr(c.SET_SIZE);return g.relativeIndexFromIndex(b,d,a)}function q(b,
f,g){if(b.getAttr(c.ANIMATING))b.once(c.ANIMATING,function(){q(b,f,g)});else{var h=b.getDimensions().items,m=Math.min(f.length,b.getAttr(c.SET_SIZE));if(!g||f.length>=g.length)b.setAttr(c.LOADING,!0),e.each(e.range(m),function(c){var m=c+1,l=f[c],y=d(b,m),v=l&&!(!0===l||!0===l.content);l&&!e.equals(l,g[c])&&y.length&&v&&(m=a(b,m),h[m]={width:y.outerWidth(),outerWidth:y.outerWidth(!0),height:y.outerHeight(),outerHeight:y.outerHeight(!0)},k.addElementToDom(y,k.getElementFromItem(l)),f[c]=k.clearElementFromItem(l))}),
b.setAttr(c.LOADING,!1);b.setAttr(c.FETCHED_ITEMS,f);b.updateDimensionsCache({items:h})}}function r(a){var b={reached:!1,left:!1,right:!1};if(!(2<a.getAttr(c.SET_SIZE))){var d=a.getAttr(c.PAGE_NUMBER);a=a.getAttr(c.SET_SIZE);1===d&&(b.reached=!0,b.left=!0);d===a&&(b.reached=!0,b.right=!0)}return b}function m(a,b,d){var f=r(a),e=a.getAttr(c.PAGE_NUMBER);f.reached&&f[b]?a.gotoPage(e):("right"===b?a.gotoNextPage:a.gotoPrevPage).call(a,d)}function z(a,b,d){var f=a.getAttr(c.TRANSITION_SLIDE_CIRCULAR_FIRST_CARD_IDX)||
1,e=a.getAttr(c.SET_SIZE),m=a.dom.$carousel.children("li"),h=a.dom.$carousel;b===t.CLOCKWISE?(g.rotateCW(h,m,d),f=g.firstCardIndexAfterRotate(d,f,e)):(g.rotateCCW(a.dom.$carousel,a.dom.$carousel.children("li"),d),f=g.firstCardIndexAfterRotate(-1*d,f,e));a.setAttr(c.TRANSITION_SLIDE_CIRCULAR_FIRST_CARD_IDX,f);d=d||1;b=b||t.CLOCKWISE;f=a.getDimensions().items;f=b===t.CLOCKWISE?g.rotateArrayCW(f,d):g.rotateArrayCCW(f,d);a.updateDimensionsCache({items:f})}function x(d,g,m,h,l){var k=l.callback,y=a(d,
d.getAttr(c.FIRST_VISIBLE_ITEM)),v=d.getAttr(c.CURRENT_PIXEL)-b(d,y);e.sequence(function(a){z(d,g,h);a()},function(a){m.gotoPixel(d,b(d,g===t.CLOCKWISE?y-h:y+h)+v,{animationDuration:0,callback:a})},function(a){l.callback=a;m.gotoPixel(d,b(d,y),l)},function(a){f(d,m);a()},function(a){k&&k();a()})()}var t={CLOCKWISE:1,COUNTER_CLOCKWISE:-1},p=e.capabilities.rtl?-1:1,G=e.capabilities.touch?2E3:3E3,u={};u[c.HIDE_OFF_SCREEN]=!1;u[c.ANIMATION_SPEED]=function(a){return function(b){return e.isFiniteNumber(b)?
b:a}}(G);u[c.TRANSITION_SLIDE_CIRCULAR_FIRST_CARD_IDX]=1;return{initAttrs:u,init:function(a){l(a);a.onChange(c.FETCHED_ITEMS,function(b,c){q(a,b,c);a.strategies.display.repaint(a)});a.onChange(c.SET_SIZE,function(b,c){b>c&&l(a)});a.onChange(c.PEEK_WIDTH,function(b,d){b!==d&&(b=a.getAttr(c.FIRST_VISIBLE_ITEM),a.gotoIndex(b))})},afterInit:function(a){f(a,this);a.strategies.display.repaint(a);a.gotoPage(a.getAttr(c.PAGE_NUMBER))},gotoPage:function(a,b,d){d=d||{};var f=a.getAttr(c.TOTAL_PAGES);0<b&&b<=
f&&(a.setAttr(c.PAGE_NUMBER,b),this.gotoIndex(a,a.getAttr(c.PAGE_SIZE)*(b-1)+1,d))},gotoIndex:function(d,f,e){var g=d.getAttr(c.SET_SIZE),m=a(d,d.getAttr(c.FIRST_VISIBLE_ITEM)),l=a(d,f);m===l?this.gotoPixel(d,b(d,m),e):(2<d.getAttr(c.SET_SIZE)?(g=h(m,l,g),e.startover&&(5<g.quantity?e.animationDuration=1250:(delete e.animationDuration,e.animationSpeed=5*d.getDimensions().viewport.width)),x(d,g.direction,this,g.quantity,e)):this.gotoPixel(d,b(d,f),e),d.setAttr(c.FIRST_VISIBLE_ITEM,f))},gotoPixel:function(a,
b,d){var f=a.getAttr(c.CURRENT_PIXEL);if(b!==f){e.isFiniteNumber(b)||n.error("Target pixel is not a finite number","a-carousel-transition-slide-circular","gotoPixel");d=d||{};var g=d.easingFunction||"ease-out",m=d.callback;if(d.animationDuration!==w)var h=d.animationDuration;else h=e.isFiniteNumber(d.animationSpeed)?d.animationSpeed:a.getAttr(c.ANIMATION_SPEED),f=Math.abs(b-f),h=0===h?0:Math.floor(f/h*1E3);0<h&&(!d.silent&&a.setAttr(c.ANIMATING,!0),m=function(){d.callback&&d.callback();a.setAttr(c.ANIMATING,
e.isAnimated(a.dom.$carousel),d.silent)});f=e.capabilities.rtl?t.CLOCKWISE:t.COUNTER_CLOCKWISE;a.setAttr(c.CURRENT_PIXEL,b);e.animate(a.dom.$carousel,{left:b*f},h,g,m)}},gotoNextPage:function(a,b){var d=a.getAttr(c.PAGE_NUMBER);d=d===a.getAttr(c.TOTAL_PAGES)?1:d+1;this.gotoPage(a,d,b)},gotoPrevPage:function(a,b){var d=a.getAttr(c.PAGE_NUMBER);d=1===d?a.getAttr(c.TOTAL_PAGES):d-1;this.gotoPage(a,d,b)},onSwipe:function(d,f){var g=d.getAttr(c.CURRENT_PIXEL),h=d.getAttr(c.PAGE_SIZE),l=a(d,d.getAttr(c.FIRST_VISIBLE_ITEM)),
k=0>p*f.velocityX;h=b(d,k?l+h:l-h);g=Math.abs(1E3*(k?g-h:g+h)/f.velocityX);k=1.2*e.viewport().width;m(d,0>p*f.touchDeltaX?"right":"left",{animationDuration:Math.min(Math.max(g,300),k),easingFunction:d.getAttr(c.TOUCH_EASING)})},onPan:function(d,f){d.setAttr(c.ANIMATING,!0);var g=d.getAttr(c.PAGE_NUMBER),h=a(d,d.getAttr(c.FIRST_VISIBLE_ITEM));h=b(d,h);h=r(d).reached?h-p*f.touchDeltaX*.4:h-p*f.touchDeltaX;f.ended?(h={easingFunction:d.getAttr(c.TOUCH_EASING),animationSpeed:.95*e.viewport().width,silent:!0},
Math.abs(f.touchDeltaX)>=.4*d.getViewportWidth()?m(d,0>p*f.touchDeltaX?"right":"left",h):d.gotoPage(g,h)):d.gotoPixel(h,{easingFunction:d.getAttr(c.TOUCH_EASING),animationDuration:0,silent:!0})}}});"use strict";n.when("A","a-carousel-utils","a-carousel-constants").register("a-carousel-transition-freescroll",function(e,k,g){function c(b){a[b.__id]||(a[b.__id]=new q(b));return a[b.__id]}function l(a){for(var b=a.countItems(),d=[],c=0;c<b;c++)d.push(!0);a.setAttr(g.FETCHED_ITEMS,d)}function f(a){var b=
a.countItems(),d=a.getAttr(g.SET_SIZE),c=[];if(d>b){for(var f=0;f<d-b;f++){var e=b+f+1;c.push(a.getEmptyCard(e,d))}a.appendItems(c)}}function h(a,b,d){if(!d||b.length>=d.length)for(var c=a.getItems(),f=b.length,h;f--;)(h=b[f])&&!e.equals(h,d[f])&&!0!==h&&!0!==h.content&&a.hasItem(c,f)&&(b[f]=a.insertFetchedItem(h,c,f));a.setAttr(g.FETCHED_ITEMS,b)}function d(a){a.hasEmptyCard()&&a.attachScrollListener(function(){a.throttle("detect",b)})}function b(a){var d=a.getAttr("loading_threshold_pixels"),c=
a.measureWidth(),f=a.getFirstEmptyDetails();-1!==f.index&&f.left<c+d?a.wantNext(f.index,a.getAttr("next_request_size")):(a.previousCardLeft&&a.previousCardLeft!==f.left&&a.throttle("detect",b),a.previousCardLeft=f.left)}var a={},q=function(a){this.carousel=a};e.extend(q.prototype,{setAttr:function(a,b){return this.carousel.setAttr(a,b)},getAttr:function(a){return this.carousel.getAttr(a)},onChange:function(a,b){this.carousel.onChange(a,b)},getItems:function(){return this.carousel.dom.$carousel.children("li")},
countItems:function(){return this.getItems().length},showItems:function(){return this.getItems().css("visibility","").attr("aria-hidden","false")},getEmptyCard:function(a,b){return this.carousel.getEmptyCard(a,b)},getEmptyCards:function(){return this.carousel.dom.$carousel.children(".a-carousel-card-empty")},hasEmptyCard:function(){return 0<this.getEmptyCards().length},getFirstEmptyDetails:function(){var a=this.getEmptyCards();return 0<a.length?(a=a.first(),{index:a.index(),left:a.position().left}):
{index:-1,left:-1}},appendItems:function(a){this.carousel.dom.$carousel.append(a.join(""))},hasItem:function(a,b){return 0<a.eq(b).length},insertFetchedItem:function(a,b,d){k.addElementToDom(b.eq(d),k.getElementFromItem(a));return k.clearElementFromItem(a)},attachScrollListener:function(a){this.carousel.dom.$carousel.bind(e.action.move+".a-carousel-freeScroll scroll.a-carousel-freeScroll",a)},detachScrollListener:function(a){this.carousel.dom.$carousel.unbind(".a-carousel-freeScroll")},measureWidth:function(){return this.carousel.dom.$carousel.outerWidth()},
wantNext:function(a,b){this.carousel.strategies.ajax.want(this.carousel,a,b)},throttle:function(a,b){var d=this;clearTimeout(d[a]);d[a]=setTimeout(function(){b(d)},100)}});var r={ajaxLock:!0};r[g.NO_TRANSITION]=!0;r[g.HIDE_OFF_SCREEN]=!1;r[g.AUTO_ADJUST_HEIGHT]=!1;r.next_request_size=10;r.loading_threshold_pixels=400;return{gotoIndex:e.constants.NOOP,gotoNextpage:e.constants.NOOP,gotoPrevPage:e.constants.NOOP,gotoPage:e.constants.NOOP,initAttrs:r,init:function(a){var m=c(a);m.showItems();l(m);f(m);
d(m);m.onChange(g.FETCHED_ITEMS,function(a,d){b(m);h(m,a,d);m.hasEmptyCard()||m.detachScrollListener()});e.on.resize(function(){b(m)})},afterInit:function(a){var d=c(a);e.delay(function(){d.setAttr("ajaxLock",!1);b(d)})},prepareFetchedItems:l,addEmptyCards:f,handleItemChanges:h,detectEmptyCardsLoadingThreshold:b,ATTR:{NEXT_REQUEST_SIZE:"next_request_size",LOADING_THRESHOLD_PIXELS:"loading_threshold_pixels"}}});"use strict";n.when("A","jQuery","a-carousel-transition-slide","a-carousel-transition-swap",
"a-carousel-transition-freescroll","a-carousel-transition-slidecircular","a-carousel-constants").register("a-carousel-strategies-transition",function(e,k,g,c,l,f,h){k={};k[h.NO_TRANSITION]=!0;k[h.HIDE_OFF_SCREEN]=!1;k[h.AUTO_ADJUST_HEIGHT]=!1;return{slideHorizontal:g,swap:c,freeScroll:l,slideCircular:f,none:{gotoIndex:e.constants.NOOP,gotoNextPage:e.constants.NOOP,gotoPrevPage:e.constants.NOOP,gotoPage:e.constants.NOOP,initAttrs:k,init:function(d){d.dom.$carousel.children("li").css("visibility","").attr("aria-hidden",
"false")}},"default":"slideHorizontal"}});"use strict";n.when("A").register("a-carousel-ajax-standard",function(e){function k(f,h,d,b){f.triggerEvent("beforeAjax",{url:h,params:d});e.get(h,{cache:!1,success:function(a){a=c(a,h);if(null===a)n.error("Invalid JSON returned to carousel from "+h+" - see http://tiny/c1mr5h0u for details.","a-carousel-ajax-standard","sendRequest");else{d.needSetSize&&(a&&a.length||n.error("Carousel requires a set_size and none was returned by the fallback AJAX request at: "+
h,"a-carousel-ajax-standard","sendRequest"),f.setAttr("set_size",a[0].setSize?a[0].setSize:a.length));for(var b=f.getAttr("fetchedItems"),g=f.getAttr("ajax"),l=[],k,x=a.length;x--;)k=a[x],null===k&&l.push(x),k&&(k.content||""===k.content?k.content=e.trim(k.content):k=e.trim(k)),b[d.offset+x]=k;g.remove_nulls&&g.id_list&&l.length&&(e.each(l,function(a){g.id_list.splice(d.offset+a,1)}),f.setAttr("ajax",g));d.needSetSize&&f.init();f.setAttr("fetchedItems",b);f.setAttr("ajaxLock",!1);d.needSetSize&&f.getAttr("pageSize")>=
b.length&&f.strategies.ajax.wantCurrentPage(f);f.triggerEvent("ajaxSuccess",{url:h,params:d})}},params:d,headers:b})}function g(c){var f=c.getAttr("requestTimer");f&&(clearTimeout(f),c.setAttr("requestTimer",null))}function c(c,g){return e.isArray(c)?c:c!==l&&null!==c&&!e.objectIsEmpty(c)&&c.hasOwnProperty("data")&&e.isArray(c.data)?c.data:null}var l;return{getItems:function(c,g,d,b){var a=c.getAttr("ajax");c.setAttr("requestTimer",e.delay(k,a.fetch_delay,c,g,d,b))},wantNextPage:function(c){g(c);
if(c.getAttr("ajax").prefetch_next_page){var f=c.getAttr("pageSize"),d=2*f;c.getAttr("show_partial_next")&&d++;this.want(c,(c.getAttr("pageNumber")-1)*f,d)}else this.wantCurrentPage(c)},wantPrevPage:function(c){g(c);if(c.getAttr("ajax").prefetch_next_page){var f=c.getAttr("pageSize"),d=2*f;c.getAttr("show_partial_next")&&d++;this.want(c,(c.getAttr("pageNumber")-2)*f,d)}else this.wantCurrentPage(c)},wantCurrentPage:function(c){g(c);var f=c.getAttr("pageSize"),d=c.getAttr("show_partial_next")?f+1:f;
this.want(c,(c.getAttr("pageNumber")-1)*f,d)},want:function(c,e,d){if(!c.getAttr("ajaxLock")){g(c);var b=c.getAttr("ajax"),a=c.getAttr("set_size");if(b.url){var f=c.getAttr("fetchedItems"),h=b.id_list;h||(h=[]);var l=-1<e?e:0;e=e+d-1;var k=b.params||{},n=b.headers||{},t=[],p=[];0===a&&(h.length&&(a=h),k.needSetSize="true",c.setAttr("ajaxLock",!0));for(-1===d&&a&&(e=a);l<=e&&l<a;)f[l]||((d=h[l])&&t.push(d),p.push(l),f[l]=!1),l++;c.setAttr("fetchedItems",f,{silent:!0});k.count=p.length;k.offset=p[0]||
0;0<t.length&&(k[b.id_param_name]=t.join(","));(0<p.length||k.needSetSize)&&this.getItems(c,b.url,k,n)}}},init:function(c){var f=c.getAttr("ajax");e.isFiniteNumber(f.fetch_delay)||(f.fetch_delay=500);f.id_param_name=f.id_param_name||"ids";f.prefetch_next_page=f.prefetch_next_page===l?!0:!!f.prefetch_next_page;c.setAttr("ajax",f);c.getAttr("set_size")||this.want(c,0,-1)},afterInit:function(c){c.strategies.ajax.wantCurrentPage(c);c.onChange("pageNumber",function(f,d){f>d?c.strategies.ajax.wantNextPage(c):
c.strategies.ajax.wantPrevPage(c)});c.onChange("loading",function(f){f||c.strategies.ajax.wantCurrentPage(c)})}}});"use strict";n.when("a-util").register("a-carousel-ajax-promise",function(e){function k(g,c){var l=g.getAttr("requestTimer");l&&clearTimeout(l);g.setAttr("requestTimer",e.delay(c,500))}return{getItems:function(g,c,l){k(g,function(){var f=g.getAttr("async_provider");f&&f(c,l).then(function(f){var d=g.getAttr("fetchedItems");e.each(f,function(b,a){d[c[a]]=b});g.setAttr("fetchedItems",d)})})},
wantNextPage:function(e){var c=e.getAttr("pageSize"),g=(e.getAttr("pageNumber")-1)*c;this.want(e,g,2*c)},wantPrevPage:function(e){var c=e.getAttr("pageSize"),g=(e.getAttr("pageNumber")-2)*c;this.want(e,g,2*c)},wantCurrentPage:function(e){var c=e.getAttr("pageSize"),g=(e.getAttr("pageNumber")-1)*c;this.want(e,g,c)},want:function(g,c,l){c=Math.max(0,c);l=Math.min(c+l,g.getAttr("set_size"));for(var f=g.getAttr("fetchedItems"),h=[];c<l;c++)f[c]||(h.push(c),f[c]=!1);if(h.length){var d,b=g.getAttr("ajax").id_list;
b&&(d=e.map(h,function(a){return b[a]}));g.setAttr("fetchedItems",f,{silent:!0});this.getItems(g,h,d)}},init:function(e){},afterInit:function(g){g.strategies.ajax.wantCurrentPage(g);g.onChange("async_provider",e.once(function(){g.strategies.ajax.wantCurrentPage(g)}));g.onChange("pageNumber",function(c,e){c>e?g.strategies.ajax.wantNextPage(g):g.strategies.ajax.wantPrevPage(g)})}}});"use strict";n.when("A","a-carousel-ajax-standard","a-carousel-ajax-promise").register("a-carousel-strategies-ajax",function(e,
k,g){return{standard:k,promise:g,none:{wantNextPage:e.constants.NOOP,wantPrevPage:e.constants.NOOP,wantCurrentPage:e.constants.NOOP,want:e.constants.NOOP,init:e.constants.NOOP},"default":"standard"}});"use strict";n.when("A","a-carousel-constants").register("a-carousel-accessibility-standard-desktop",function(e,k){function g(a){var b=a.dom.$carousel,c=b.children("li"),d=a.getAttr(k.PAGE_SIZE),e=a.getAttr(k.FIRST_VISIBLE_ITEM),f=e-1,g=a.getAttr(k.TRANSITION_SLIDE_CIRCULAR_FIRST_CARD_IDX);if(a.getAttr(k.NO_TRANSITION))return c;
if(c.length<=d)return b.children("li:not(:empty), li.a-carousel-card-empty");"slideCircular"===a.getAttr(k.TRANSITION_STRATEGY)&&(f=g-e-1,0===c.length%2&&--f);b=f=(f+2*c.length)%c.length;"peekCircular"===a.getAttr(k.DISPLAY_STRATEGY)&&--b;d=f+d;if("peekCircular"===a.getAttr(k.DISPLAY_STRATEGY)||a.getAttr(k.SHOW_PARTIAL_NEXT))d+=1;return c.slice(Math.max(b,0),Math.min(d,c.length))}function c(a,b,c,d){var h=function(){var c=g(a);(b?c.first():c.last()).find("a, button, input, select, textarea, [tabindex]:not([tabindex\x3d'-1'])").not(":disabled").first().focus();
e.delay(function(){f(a)},a.getAttr(k.PAGE_SIZE)*a.getAttr(k.DELAY_TIME)+50)};if(0===c||0===d)e.delay(h,0);else{var l=function(b){b||(h(),a.unbind(k.ANIMATING,l))};a.onChange(k.ANIMATING,l)}}function l(a){var c=a.dom.$carousel.children("li"),d=a.getAttr(k.TRANSITION_STRATEGY),e=a.getAttr(k.SET_SIZE),f=e?{"aria-setsize":e}:{};if("swap"===d){var g=a.getAttr(k.FIRST_VISIBLE_ITEM);c.each(function(a){var c=b(this);g+a>e?(c.removeAttr("aria-setsize"),c.removeAttr("aria-posinset")):(f["aria-posinset"]=g+
a,c.attr(f))})}else c.each(function(a){f["aria-posinset"]=a+1;b(this).attr(f)})}function f(a){a=a.dom.$container;a.find(".a-carousel-accessibility-page-info").html(a.find(".a-carousel-page-count").text())}function h(a,b){if(!a.getAttr(k.NO_TRANSITION)){var c=a.dom.$carousel.children("li"),d=a.getAttr(k.TRANSITION_STRATEGY);a=a.getAttr(k.DISPLAY_STRATEGY);c=c.not(b);b.attr("aria-hidden",!1);c.attr("aria-hidden",!0);if("slideCircular"===d&&"peekCircular"!==a||"slideHorizontal"===d)b.css("visibility",
"visible"),c.css("visibility","hidden")}}function d(a,b){if(!a.getAttr(k.CIRCULAR)){var c=a.dom.$container;c.find(".a-carousel-goto-prevpage").attr("aria-disabled",1===b?"true":"false");c.find(".a-carousel-goto-nextpage").attr("aria-disabled",b===a.getAttr(k.TOTAL_PAGES)?"true":"false")}}var b=e.$;return{init:function(a){var b=a.getAttr(k.NAME);l(a);h(a,g(a));d(a,1);e.on("a:carousel"+(b?":"+b:"")+":repaint",function(){h(a,g(a))});a.onChange(k.SET_SIZE,function(b,c){l(a)});a.onChange(k.LOADING,function(b){a.getAttr(k.ANIMATING)||
a.dom.$carousel.attr("aria-busy",(!!b).toString())});a.onChange(k.ANIMATING,function(b){a.getAttr(k.LOADING)||a.dom.$carousel.attr("aria-busy",(!!b).toString());!b&&a.getAttr(k.SET_SIZE)>a.getAttr(k.PAGE_SIZE)&&(b=a.getAttr(k.TRANSITION_STRATEGY),h(a,g(a)),"slide"!==b&&l(a))});a.onChange(k.PAGE_NUMBER,function(b){d(a,b);h(a,a.dom.$carousel.children("li"))})},afterInit:function(a){f(a)},gotoPage:function(a,b,d){a.getAttr(k.NO_TRANSITION)||c(a,!0,b,d)},nextPage:function(a,b,d){a.getAttr(k.NO_TRANSITION)||
c(a,!0,b,d)},prevPage:function(a,b,d){a.getAttr(k.NO_TRANSITION)||c(a,!1,b,d)}}});"use strict";n.when("A","a-carousel-constants").register("a-carousel-accessibility-standard-mobile",function(e,k){function g(e){var f=e.dom.$carousel;e=f.children(".a-carousel-card-empty");f=f.children("li").not(e);var g=f.length,d=g?{"aria-setsize":g}:{};e.attr("aria-hidden","true").removeAttr("aria-setsize").removeAttr("aria-posinset");f.each(function(b){d["aria-posinset"]=b+1;d["aria-hidden"]="false";c(this).attr(d)})}
var c=e.$;e=e.constants.NOOP;return{init:function(c){g(c);c.onChange(k.SET_SIZE,function(){g(c)});c.onChange(k.LOADING,function(e){c.dom.$carousel.attr("aria-busy",(!!e).toString());e||g(c)})},gotoPage:e,nextPage:e,prevPage:e}});"use strict";n.when("A","a-carousel-accessibility-standard-desktop","a-carousel-accessibility-standard-mobile").register("a-carousel-strategies-accessibility",function(e,k,g){return{standardDesktop:k,standardMobile:g,none:{init:e.constants.NOOP,gotoPage:e.constants.NOOP,nextPage:e.constants.NOOP,
prevPage:e.constants.NOOP},"default":e.capabilities.mobile||e.capabilities.tablet?"standardMobile":"standardDesktop"}});"use strict";n.when("a-carousel-strategies-display","a-carousel-strategies-transition","a-carousel-strategies-ajax","a-carousel-strategies-accessibility").register("a-carousel-strategies",function(e,k,g,c){return{display:e,transition:k,ajax:g,accessibility:c}});"use strict";n.when("A","jQuery","a-carousel-classes","a-carousel-strategies","a-carousel-constants").register("a-carousel-framework",
function(e,k,g,c,l){function f(a,b,c,d){var f=a.hasClass("a-begin"),g=0<a.children(".a-end").length;if(f?g:1)return b=new b(a,c,d),b.__id=++B,a.data("a-carousel",b),a.removeClass("a-carousel-static"),r(a,b)?e.delay(h,10,b):p.push(b),d.name&&(u[d.name]=b),b}function h(a){a.init();t.push(a);a.__initialized=!0;a.dom.$container.addClass("a-carousel-initialized");var b=a.getAttr("name");b&&A[b]&&e.each(A[b],function(b){b(a)})}function d(a,b){(b=b[a+"Strategy"])||(b=c[a]["default"]);return c[a][b]}function b(a){for(var b=
a.length,c;b--;)c=a[b],c.dom.$container.length&&v.find(c.dom.$container).length||((c=c.getAttr("name"))&&delete u[c],a.splice(b,1))}function a(){b(p);b(t)}function q(a){var b=a.data("a-carousel-options")||{};b.displayStrategy=a.data("a-display-strategy");b.transitionStrategy=a.data("a-transition-strategy");b.ajaxStrategy=a.data("a-ajax-strategy");b.accessibilityStrategy=a.data("a-accessibility-strategy");b.carouselClass=a.data("a-class");a=d("display",b);var c=d("transition",b),e=d("ajax",b),f=d("accessibility",
b),h=b.carouselClass;h||(h=g["default"]);h=g[h];if(h!==x&&a!==x&&c!==x&&e!==x&&f!==x)return{carouselClass:h,strategies:{display:a,transition:c,ajax:e,accessibility:f},opts:b}}function r(a,b){return a.hasClass("a-begin")&&0===a.children(".a-end").length?!1:e.onScreen(a,b.getAttr("initThreshold"))}function m(){k(".a-carousel-static").each(function(){var a=k(this),b=q(a);b&&f(a,b.carouselClass,b.strategies,b.opts)})}function z(){for(var a=p.length;a--;){var b=p[a];r(b.dom.$container,b)&&(p.splice(a,
1),h(b))}}var x,t=[],p=[],w=!1,u={},v=k(document),A={},B=0;e.on("resize orientationchange",function(b,c){a();(c.height||c.width)&&e.delay(function(){e.each(t,function(a){a.resize()})},e.capabilities.mobile||e.capabilities.tablet?100:0)});e.on("a:popover:afterSlideOut",function(){e.each(t,function(a){a.resize()})});e.on("a:carousel:change:name",function(a){a.newValue&&(u[a.newValue]=a.carousel);a.oldValue&&delete u[a.oldValue]});e.on(l.INIT_EVENTS,function(){z();m()});e.on("a:pageUpdate",a);e.on("scroll",
function(){z();m()});e.declarative("a-tabs","click",function(a){e.delay(function(){z();e.each(t,function(a){a.getAttr("isInTab")&&a.resize()})},50)});e.on("a:popover:afterShow",function(){e.delay(z,50)});e.on("a:popover:ajaxContentLoaded",function(){e.delay(function(){a();m()},50)});e.on.ready(function(){w=!0});l={getCarousel:function(a){a.jquery||(a=k(a));var b=a.closest(".a-carousel-container").data("a-carousel");if(!b){var c=q(a);c&&(b=f(a,c.carouselClass,c.strategies,c.opts))}return b},getCarouselByName:function(a){return u[a]},
createAll:function(){a();m()},initializeAll:function(){a();z()},kill:function(a){a.jquery||(a=k(a));if(a.length&&(a=a.closest(".a-carousel-container"),a.length)){var b=a.data("a-carousel");if(b){var c=e.indexOfArray(t,b);-1<c?(t[c].name&&delete u[t[c].name],t.splice(c,1)):(c=e.indexOfArray(p,b),-1<c&&(p[c].name&&delete u[p[c].name],p.splice(c,1)))}a.remove()}},registerStrategy:function(a,b,d){c[a]||(c.type={});c[a][b]&&n.error("Attempted to register a "+a+" strategy which already exists: "+b,"a-carousel-framework",
"registerStrategy");c[a][b]=d;w&&m()},registerCarouselClass:function(a,b){g[a]&&n.error("Attempted to register a carousel class which already exists: "+a,"a-carousel-framework","registerCarouselClass");k.isFunction(b)||n.error("Attempted to register carousel class "+a+" without a constructor function.","a-carousel-framework","registerCarouselClass");g[a]=b;w&&m()},getAllCarousels:function(){return t.concat(p)},onInit:function(a,b){a&&(A[a]||(A[a]=[]),k.isFunction(b)&&(A[a].push(b),(a=u[a])&&a.__initialized&&
b(a)))}};Object.freeze!==x&&Object.freeze(l);return l})});